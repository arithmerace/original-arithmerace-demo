{
  "rules": {
    "ustatus": {
      "$uid": {
        ".write": "$uid === auth.uid",
        ".read": "auth.uid !== null",
        ".validate": "newData.child('status').val() === 'online' || newData.child('status').val() === 'offline'"
      }
    },
    "waitingroom": {
      ".read": "auth.uid !== null",
      "$uid": {
        ".write": "auth.uid === $uid",
        ".validate": "!newData.exists() || newData.child('waiting').val() === true"
      }
    },
    "user": {
      "$uid": {
        ".read": true,
        "hasRaced": {
          ".write": "auth.uid === $uid"
        }
      }
    },
    "race": {
      "$raceid": {
        ".read": "auth.uid !== null",
        "player": {
          "$playerid": {
            ".write": false
          }
        }
      }
    },
    "_race": {
      ".read": false
    }
  }
}